# Kubernetes

[Kubernetes](https://kubernetes.io/) (часто сокращают до k8s) — открытая система оркестрации контейнеров, представленная компанией Google в 2014 году. Kubernetes реализует идею, ранее использованную во внутренней системе Google под названием [Borg [PDF\]](https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf). Если вкратце, идея состоят в том, что ваш деплоймент строится на базе контейнеров (например, [Docker](https://eax.me/docker/)), а также описании того, сколько этих контейнеров нужно и какие ресурсы они используют. Kubernetes на базе этого описания и доступных физических машин разворачивает контейнеры и делает все возможное для поддержания требуемой конфигурации. В том числе, он перезапускает упавшие контейнеры, перемещает их для выделения ресурсов, необходимых новым контейнерам, и так далее.

### Зачем это нужно?

Другими словами, используется декларативный подход — мы описываем, *что* требуется достичь, а не *как*. Из преимуществ данного подхода можно отметить следующие. Система сама себя восстанавливает в случае сбоев. У вас не болит голова о том, на какой физической машине запущен тот или иной контейнер, и куда его перенести, чтобы запустить новый тяжелый сервис. Система становится повторяемой. Если у вас все развернулось и работает в тестовом окружении, вы можете с хорошей долей уверенности сказать, что оно развернется в точно такую же систему и на продакшене. Наконец, система становится версионируемой. Если что-то пошло не так, вы можете достать из Git старую конфигурацию и развернуть все в точности, как было раньше.

Стоит однако понимать, что кубер является просто инструментом, а не серебряной пулей. В частности, такие проблемы, как [миграции схем баз данных или обеспечение обратной совместимости API](https://eax.me/backward-compatibility/), остаются на вас. Не следует сломя голову внедрять в проекте кубер, просто потому что сейчас так модно. Определитесь, какую конкретную проблему вы хотели бы решить, и является ли она настолько приоритетной, что решать ее нужно именно сейчас. Затем поднимите где-нибудь на стенде кубер, или воспользуйтесь услугами одной из компаний, [предоставляющих его в качестве сервиса](https://kubernetes.io/docs/setup/pick-right-solution/#hosted-solutions). Посмотрите, решает ли кубер вашу проблему, и не создает ли при этом парочку новых. В общем, совсем не факт, что в каждой IT-компании обязательно нужно использовать Kubernetes.

## Основные понятия в Kubernetes

- Kubectl
- master node
- worker node
- Kubelet
- pod
- secret
- service